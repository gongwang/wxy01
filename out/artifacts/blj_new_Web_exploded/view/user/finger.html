<html >
<head>
<meta charset="utf-8">
<title>指纹信息</title>
<meta name="generator" content="editplus">
<meta name="author" content="nuttycoder">
<script src="../../bower_components/plugins/jQueryUI/jquery.js"></script>
<script src="../../js/layer/layer.js"></script>
	<script src="../../js/fingerws.js"></script>
<style type="text/css">
      *{margin:0;padding:0;/*position: relative;*/-webkit-text-size-adjust:none }
   body{font-family:"Helvetica Neue",'微软雅黑', Verdana, Arial, Helvetica, sans-serif;
       color: #333333;}
   input{border:none}
   input:focus{border:none;outline:none;}
   img{border:none;outline:none;}
   select{border:none;
         /*-moz-appearance:none;*/
         /*-webkit-appearance:none;*/
         font-family:"Helvetica Neue",'微软雅黑', Verdana, Arial, Helvetica, sans-serif;
   }
   input, textarea, keygen, select, button{
       font-family:"Helvetica Neue",'微软雅黑', Verdana, Arial, Helvetica, sans-serif;
   }
   select:focus{border:none;outline:none;}
   button{border:none;
       background: #fff;}
   button:focus{border:none;outline:none;}
   a{color:#333333;text-decoration: none}
   a:hover{color:#333333;text-decoration: none}
   ul,li{list-style: none}
   table{
       table-layout: fixed;
       border-collapse:collapse;
   }
   table td{
       font-size: 12px;
   }
  .clear:after{
      content: ".";
      display: block;
      height: 0;
      clear: both;
      visibility: hidden;
      zoom:1;
  }
  .left{float: left;}
  .right{float:right;}


	.box{
        top: 0;
        left: 0;
        width: 710px;
        /*min-height: 460px;*/
        background: #ffffff;
    }
    .title{
        height: 50px;
        line-height: 50px;
        text-align: center;
        background: url("../../images/login-title.png") no-repeat center center;
        color: #ffffff;
    }
    .content{
        /*width: 600px;*/
        width: 84.51%;
        margin: 0px auto;
    }
    /*指纹采集，第一步*/
        .detail-form{
            width: 600px;
            margin: 0px auto;
            margin-bottom:20px;
        }
        .steps div{
            width: 50%;
            text-align: center;
        }
        .steps div p{
            height: 25px;
            line-height: 30px;
            font-size: 12px;
        }
        .steps .step-one{
            padding-top: 30px;
            background: url("../../images/login-finger1.png") no-repeat center top;
        }
        .steps .step-one p{
            color: #006eb7;
        }
        .steps .step-two{
            padding-top: 30px;
            background: url("../../images/login-finger2.png") no-repeat center top;
        }
        .steps .step-two p{
            color: #333333;
        }
        .steps-img{
            height: 210px;
            margin-top: 20px;
            background: #f4f4f4;
            border:1px solid #dddddd;
        }
        .otriangle{
            position: absolute;
            left: 197px;
            top: 40px;
            width: 0;
            height: 0;
            border: 9px solid transparent;
            border-bottom: 18px solid #dddddd;
            border-top-width: 18px;
        }
        .itriangle{
            position: absolute;
            left: -8px;
            top: -114px;
            width: 0;
            height: 0;
            border: 8px solid transparent;
            border-bottom: 16px solid #f4f4f4;
            border-top-width: 16px;
        }
        .steps-img-one{
            width: 50%;
            height: 210px;
            background: url("../../images/login-step1-right.png") no-repeat center center;
        }
        .steps-img-two{
            width: 50%;
            height: 210px;
            background: url("../../images/login-step1-left.png") no-repeat center center;
        }
        .step2{
            display: none;
        }
        .step2 .otriangle{
            left: 497px;
        }
        .step2 .step-one{
            padding-top: 30px;
            background: url("../../images/login-finger3.png") no-repeat center top;
        }
        .step2 .step-two{
            padding-top: 30px;
            background: url("../../images/login-finger4.png") no-repeat center top;
        }
        .step2 .step-one p{
            color: #333333;
        }
        .step2 .step-two p{
            color: #006eb7;
        }
        .step2 .steps-img-one{
            width: 50%;
            height: 210px;
            background: url("../../images/login-step2-left.png") no-repeat center center;
        }
        .step2 .steps-img-two{
            width: 50%;
            height: 210px;
            background: url("../../images/step2-right-1.png") no-repeat center center;
        }
        .step2 .steps-img-two.step2-right-2{
            background: url("../../images/step2-right-2.png") no-repeat center center;
        }
        .step2 .steps-img-two.step2-right-2.step2-right-3{
            background: url("../../images/step2-right-3.png") no-repeat center center;
        }
        .step2 .login-step2-0{
            background: url("../../images/login-step2-0.png") no-repeat center center;
        }
        .step2 .login-step2-1{
            background: url("../../images/login-step2-1.png") no-repeat center center;
        }
        .step2 .login-step2-2{
            background: url("../../images/login-step2-2.png") no-repeat center center;
        }
        .step2 .login-step2-3{
            background: url("../../images/login-step2-3.png") no-repeat center center;
        }
        .step2 .login-step2-4{
            background: url("../../images/login-step2-4.png") no-repeat center center;
        }
        .step2 .login-step2-5{
            background: url("../../images/login-step2-5.png") no-repeat center center;
        }
        .step2 .login-step2-6{
            background: url("../../images/login-step2-6.png") no-repeat center center;
        }
        .step2 .login-step2-7{
            background: url("../../images/login-step2-7.png") no-repeat center center;
        }
        .step2 .login-step2-8{
            background: url("../../images/login-step2-8.png") no-repeat center center;
        }
        .step2 .login-step2-9{
            background: url("../../images/login-step2-9.png") no-repeat center center;
        }
        
        .suggest{
            height: 36px;
            line-height: 36px;
            text-indent: 20px;
            font-size: 12px;
            background: url("../../images/finger-hint.png") no-repeat left center;
            color: #666666;
        }
        .submit-btn{
            width: 140px;
            height: 38px;
            line-height: 38px;
            margin: 10px auto;
            background: #006eb7;
            color: #ffffff;
            text-align: center;
            cursor: pointer;
            display:none;
        }
    
    /*登录弹出框及背景*/
        .input-back{
            display: none;
            position: fixed;
            top: 0;
            bottom: 0;
            left: 0;
            right: 0;
            background: rgba(0, 0, 0, 0.2);
            z-index: 1;
        }
        .input-wrapper{
            position: absolute;
            top: 0;
            bottom: 0;
            left: 0;
            right: 0;
            display: none;
            width: 400px;
            margin: auto;
            font-size: 0;
            z-index: 200;
            background: #ffffff;
            overflow:hidden;
        }
        .input-group{
            /*display: inline-block;*/
            width: 300px;
            margin: 20px auto;
        }
        .input-group label{
            display: inline-block;
            width: 80px;
            height: 35px;
            line-height: 35px;
            margin-left: 10px;
            font-size: 12px;
            border: 1px solid #dddddd;
            background: #e8e8e8;
            color: #666666;
            text-align: center;
            box-sizing: border-box;
            vertical-align: top;
        }
        .input-group input{
            width: 200px;
            height: 35px;
            line-height: 35px;
            text-indent: 10px;
            font-size: 12px;
            border: 1px solid #dddddd;
            border-left-width: 0;
            background: #f4f4f4;
            box-sizing: border-box;
            vertical-align: top;
        }
        .input-group .account{
            display: inline-block;
            width: 200px;
            height: 35px;
            line-height: 35px;
            text-indent: 10px;
            font-size: 12px;
            border: 1px solid #dddddd;
            border-left-width: 0;
            background: #f4f4f4;
            box-sizing: border-box;
            vertical-align: top;
            cursor: not-allowed;
        }
        .admin-btn{
            width: 100px;
            height: 32px;
            line-height: 32px;
            margin: 30px auto;
            font-size: 14px;
            text-align: center;
            background: #006eb7;
            color: #ffffff;
            cursor: pointer;
        }
</style>
</head>
<body>
<div class="box clear">
        <div class="content">
           <div class="detail-form step1">
               <div class="steps clear">
                   <div class="step-one left">
                       <p>请选择采集的手指</p>
                   </div>
                   <div class="step-two left">
                       <p>刷取指纹</p>
                   </div>
               </div>
               <div class="steps-img selected-finger clear">
                   <div class="otriangle">
                       <div class="itriangle"></div>
                   </div>
                   <div class="steps-img-one left"></div>
                   <div class="steps-img-two left"></div>
                   
                                <div id="finger_1" style="position:absolute;z-index:5;width:25px;height:25px;margin-left: 71px;margin-top: 111px;float:left;background: url(../../images/6.png) no-repeat ;" ></div>
                                <div id="finger_2" style="position:absolute;z-index:5;width:25px;height:25px;margin-left: 116px;margin-top: 38px;float:left;background: url(../../images/7.png) no-repeat ;" ></div>
                                <div id="finger_3" style="position:absolute;z-index:5;width:25px;height:25px;margin-left: 152px;margin-top: 21px;float:left;background: url(../../images/8.png) no-repeat ;" ></div>
                                <div id="finger_4" style="position:absolute;z-index:5;width:25px;height:25px;margin-left: 183px;margin-top: 37px;float:left;background: url(../../images/9.png) no-repeat ;" ></div>
                                <div id="finger_5" style="position:absolute;z-index:5;width:25px;height:25px;margin-left: 209px;margin-top: 72px;float:left;background: url(../../images/10.png) no-repeat ;" ></div>
                                <div id="finger_6" style="position:absolute;z-index:5;width:25px;height:25px;margin-left: 369px;margin-top: 72px;float:left;background: url(../../images/5.png) no-repeat ;" ></div>
                                <div id="finger_7" style="position:absolute;z-index:5;width:25px;height:25px;margin-left: 396px;margin-top: 37px;float:left;background: url(../../images/4.png) no-repeat ;" ></div>
                                <div id="finger_8" style="position:absolute;z-index:5;width:25px;height:25px;margin-left: 428px;margin-top: 21px;float:left;background: url(../../images/3.png) no-repeat ;" ></div>
                                <div id="finger_9" style="position:absolute;z-index:5;width:25px;height:25px;margin-left: 464px;margin-top: 38px;float:left;background: url(../../images/2.png) no-repeat ;" ></div>
                                <div id="finger_10" style="position:absolute;z-index:5;width:25px;height:25px;margin-left: 503px;margin-top: 111px;float:left;background: url(../../images/1.png) no-repeat ;" ></div>
                                
                                <div id="finger_1a" style="display:none;position:absolute;z-index:5;width:25px;height:25px;margin-left: 71px;margin-top: 111px;float:left;background: url(../../images/6a.png) no-repeat ;" ></div>
                                <div id="finger_2a" style="display:none;position:absolute;z-index:5;width:25px;height:25px;margin-left: 116px;margin-top: 38px;float:left;background: url(../../images/7a.png) no-repeat ;" ></div>
                                <div id="finger_3a" style="display:none;position:absolute;z-index:5;width:25px;height:25px;margin-left: 152px;margin-top: 21px;float:left;background: url(../../images/8a.png) no-repeat ;" ></div>
                                <div id="finger_4a" style="display:none;position:absolute;z-index:5;width:25px;height:25px;margin-left: 183px;margin-top: 37px;float:left;background: url(../../images/9a.png) no-repeat ;" ></div>
                                <div id="finger_5a" style="display:none;position:absolute;z-index:5;width:25px;height:25px;margin-left: 209px;margin-top: 72px;float:left;background: url(../../images/10a.png) no-repeat ;" ></div>
                                <div id="finger_6a" style="display:none;position:absolute;z-index:5;width:25px;height:25px;margin-left: 369px;margin-top: 72px;float:left;background: url(../../images/5a.png) no-repeat ;" ></div>
                                <div id="finger_7a" style="display:none;position:absolute;z-index:5;width:25px;height:25px;margin-left: 396px;margin-top: 37px;float:left;background: url(../../images/4a.png) no-repeat ;" ></div>
                                <div id="finger_8a" style="display:none;position:absolute;z-index:5;width:25px;height:25px;margin-left: 428px;margin-top: 21px;float:left;background: url(../../images/3a.png) no-repeat ;" ></div>
                                <div id="finger_9a" style="display:none;position:absolute;z-index:5;width:25px;height:25px;margin-left: 464px;margin-top: 38px;float:left;background: url(../../images/2a.png) no-repeat ;" ></div>
                                <div id="finger_10a" style="display:none;position:absolute;z-index:5;width:25px;height:25px;margin-left: 503px;margin-top: 111px;float:left;background: url(../../images/1a.png) no-repeat ;" ></div>
               </div>
               <div class="suggest">我们建议优先使用食指、中指来注册指纹！</div>
           </div>
           <div class="detail-form step2">
               <div class="steps clear">
                   <div class="step-one left">
                       <p>请选择采集的手指</p>
                   </div>
                   <div class="step-two left">
                       <p>刷取指纹</p>
                   </div>
               </div>
               <div class="steps-img clear">
                   <div class="otriangle">
                       <div class="itriangle"></div>
                   </div>
                   <div class="steps-img-one left"></div>
                   <div class="steps-img-two left"></div>                 
               </div>
               <div class="suggest">我们建议优先使用食指、中指来注册指纹！</div>
           </div>
               <div class="submit-btn" onclick="reset()">返回</div>

           </div>
       </div>
   </div>
 <script>
//    左1~左5，右5~右1
      var arr = [
          [71, 101, 105, 140],
          [116, 139, 35, 60],
          [151, 176, 18, 48],
          [185, 206, 35, 65],
          [209, 231, 70, 95],
    	  
          [369, 394, 70, 100],
          [398, 419, 36, 65],
          [429, 449, 20, 50],
          [464, 489, 35, 62],
          [504, 534, 108, 140]
      ];
      var sf = document.querySelector(".selected-finger");
      var dis = sf.getBoundingClientRect();
      
      function check(e){
          var mouseX = e.clientX;
          var mouseY = e.clientY;
          var curIndex;
          if(mouseX > dis.left && mouseX < dis.right && mouseY > dis.top && mouseY < dis.bottom){
                for(var i = 0; i < 10; i++){
                    if(mouseX > dis.left+arr[i][0] && mouseX < dis.left+arr[i][1] && mouseY > dis.top+arr[i][2] && mouseY < dis.top+arr[i][3]){
                        curIndex = i;
                        $(".step1").fadeOut('fast',function(){
                              console.log(curIndex);
                              var fseq = (curIndex<5?5-curIndex:15-curIndex);
                              curIndex = (curIndex>4?curIndex-5:curIndex+5)
                              $(".step2 .steps-img-one").addClass("login-step2-" + curIndex);
                              $(".step2").show();
                              jasjWebFinger("add",userid,fseq);
                              $(window).unbind('mousedown');
                         });
                        break;
                    }
                }
          }
      }
      $(window).bind('mousedown',check);
      FingerCodes="";
      userid = window.parent.document.getElementById('username').value;
      $.ajax({
          url:"../../user/finger",
          type:"POST",
          data:{
        	  userid: userid
          },
          success:function(data){
              if(data!=null){
            	  FingerCodes = data.FingerCodes;
            	  updatestatus();
              }
          },
          error:function(){}
      })
      //updatestatus();
      //FingerCodes="1001001101"
      //
   </script>
</body>
</html>